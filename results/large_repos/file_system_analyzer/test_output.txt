============================= test session starts ==============================
platform linux -- Python 3.10.11, pytest-8.3.5, pluggy-1.5.0
rootdir: /home/justinchiu_cohere_com/minicode/large_repos/file_system_analyzer/unified
configfile: pyproject.toml
plugins: anyio-4.9.0, metadata-3.1.1, json-report-1.5.0, cov-6.1.1
collected 107 items

tests/db_admin/backup_compression/test_compression_analyzer.py ......    [  5%]
tests/db_admin/db_file_recognition/test_detector.py ......               [ 11%]
tests/db_admin/index_efficiency/test_index_analyzer.py ........          [ 18%]
tests/db_admin/interfaces/test_api.py .......                            [ 25%]
tests/db_admin/tablespace_fragmentation/test_fragmentation_analyzer.py . [ 26%]
.......                                                                  [ 32%]
tests/db_admin/transaction_log_analysis/test_log_analyzer.py ......      [ 38%]
tests/db_admin/utils/test_file_utils.py .....                            [ 42%]
tests/security_auditor/test_audit.py ............                        [ 54%]
tests/security_auditor/test_custody.py ..........                        [ 63%]
tests/security_auditor/test_detection.py .............                   [ 75%]
tests/security_auditor/test_differential.py ........                     [ 83%]
tests/security_auditor/test_reporting.py ............                    [ 94%]
tests/security_auditor/test_scanner.py ......                            [100%]

=============================== warnings summary ===============================
../../../../.pyenv/versions/3.10.11/lib/python3.10/site-packages/pydantic/_internal/_config.py:323
../../../../.pyenv/versions/3.10.11/lib/python3.10/site-packages/pydantic/_internal/_config.py:323
../../../../.pyenv/versions/3.10.11/lib/python3.10/site-packages/pydantic/_internal/_config.py:323
  /home/justinchiu_cohere_com/.pyenv/versions/3.10.11/lib/python3.10/site-packages/pydantic/_internal/_config.py:323: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

tests/db_admin/index_efficiency/test_index_analyzer.py::test_calculate_space_performance_ratio
  /home/justinchiu_cohere_com/minicode/large_repos/file_system_analyzer/unified/tests/db_admin/index_efficiency/test_index_analyzer.py:54: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    idx_without_perf = mock_indexes[0].copy()

tests/db_admin/interfaces/test_api.py::test_analyze_database_files
tests/db_admin/interfaces/test_api.py::test_analyze_transaction_logs
tests/db_admin/interfaces/test_api.py::test_analyze_index_efficiency
tests/db_admin/interfaces/test_api.py::test_analyze_tablespace_fragmentation
tests/db_admin/interfaces/test_api.py::test_analyze_backup_compression
  /home/justinchiu_cohere_com/minicode/large_repos/file_system_analyzer/unified/common/core/export/interfaces.py:51: PydanticDeprecatedSince20: The `json` method is deprecated; use `model_dump_json` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    return json.loads(data.json())

tests/db_admin/interfaces/test_api.py::test_analyze_database_files
tests/db_admin/interfaces/test_api.py::test_analyze_database_files
tests/db_admin/interfaces/test_api.py::test_comprehensive_analysis
  /home/justinchiu_cohere_com/minicode/large_repos/file_system_analyzer/unified/file_system_analyzer_db_admin/interfaces/api.py:159: PydanticDeprecatedSince20: The `json` method is deprecated; use `model_dump_json` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    result_dict = json.loads(analysis_result.json())

tests/db_admin/interfaces/test_api.py::test_analyze_transaction_logs
tests/db_admin/interfaces/test_api.py::test_analyze_transaction_logs
  /home/justinchiu_cohere_com/minicode/large_repos/file_system_analyzer/unified/tests/db_admin/interfaces/test_api.py:82: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    log_files = [f.dict() for f in mock_database_files if f.category == FileCategory.LOG]

tests/db_admin/interfaces/test_api.py::test_analyze_transaction_logs
tests/db_admin/interfaces/test_api.py::test_comprehensive_analysis
  /home/justinchiu_cohere_com/minicode/large_repos/file_system_analyzer/unified/file_system_analyzer_db_admin/interfaces/api.py:225: PydanticDeprecatedSince20: The `json` method is deprecated; use `model_dump_json` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    result_dict = json.loads(analysis_result.json())

tests/db_admin/interfaces/test_api.py::test_analyze_index_efficiency
tests/db_admin/interfaces/test_api.py::test_analyze_index_efficiency
tests/db_admin/interfaces/test_api.py::test_analyze_index_efficiency
tests/db_admin/interfaces/test_api.py::test_analyze_index_efficiency
tests/db_admin/interfaces/test_api.py::test_analyze_index_efficiency
tests/db_admin/interfaces/test_api.py::test_analyze_index_efficiency
tests/db_admin/interfaces/test_api.py::test_analyze_index_efficiency
  /home/justinchiu_cohere_com/minicode/large_repos/file_system_analyzer/unified/tests/db_admin/interfaces/test_api.py:111: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    indexes = [idx.dict() for idx in mock_indexes]

tests/db_admin/interfaces/test_api.py::test_analyze_index_efficiency
  /home/justinchiu_cohere_com/minicode/large_repos/file_system_analyzer/unified/file_system_analyzer_db_admin/interfaces/api.py:288: PydanticDeprecatedSince20: The `json` method is deprecated; use `model_dump_json` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    result_dict = json.loads(analysis_result.json())

tests/db_admin/interfaces/test_api.py::test_analyze_tablespace_fragmentation
tests/db_admin/interfaces/test_api.py::test_analyze_tablespace_fragmentation
tests/db_admin/interfaces/test_api.py::test_analyze_tablespace_fragmentation
  /home/justinchiu_cohere_com/minicode/large_repos/file_system_analyzer/unified/tests/db_admin/interfaces/test_api.py:143: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    tablespaces = [ts.dict() for ts in mock_tablespaces]

tests/db_admin/interfaces/test_api.py::test_analyze_tablespace_fragmentation
  /home/justinchiu_cohere_com/minicode/large_repos/file_system_analyzer/unified/file_system_analyzer_db_admin/interfaces/api.py:351: PydanticDeprecatedSince20: The `json` method is deprecated; use `model_dump_json` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    result_dict = json.loads(analysis_result.json())

tests/db_admin/interfaces/test_api.py::test_analyze_backup_compression
tests/db_admin/interfaces/test_api.py::test_comprehensive_analysis
  /home/justinchiu_cohere_com/minicode/large_repos/file_system_analyzer/unified/file_system_analyzer_db_admin/interfaces/api.py:411: PydanticDeprecatedSince20: The `json` method is deprecated; use `model_dump_json` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    result_dict = json.loads(analysis_result.json())

tests/db_admin/transaction_log_analysis/test_log_analyzer.py::test_detect_growth_pattern
  /home/justinchiu_cohere_com/minicode/large_repos/file_system_analyzer/unified/file_system_analyzer_db_admin/transaction_log_analysis/log_analyzer.py:259: RuntimeWarning: divide by zero encountered in scalar divide
    linear_r2 = 1 - (np.sum(linear_residuals**2) / np.sum((sizes_array - np.mean(sizes_array))**2))

tests/db_admin/transaction_log_analysis/test_log_analyzer.py::test_detect_growth_pattern
  /home/justinchiu_cohere_com/minicode/large_repos/file_system_analyzer/unified/file_system_analyzer_db_admin/transaction_log_analysis/log_analyzer.py:272: RuntimeWarning: divide by zero encountered in scalar divide
    exp_r2 = 1 - (np.sum(exp_residuals**2) / np.sum((sizes_array[valid_indices] - np.mean(sizes_array[valid_indices]))**2))

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
--------------------------------- JSON report ----------------------------------
report saved to: report.json
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.10.11-final-0 _______________

Name                                                                               Stmts   Miss  Cover
------------------------------------------------------------------------------------------------------
file_system_analyzer_db_admin/__init__.py                                              1      0   100%
file_system_analyzer_db_admin/backup_compression/__init__.py                           0      0   100%
file_system_analyzer_db_admin/backup_compression/compression_analyzer.py             281     28    90%
file_system_analyzer_db_admin/db_file_recognition/__init__.py                          0      0   100%
file_system_analyzer_db_admin/db_file_recognition/detector.py                        144     22    85%
file_system_analyzer_db_admin/db_file_recognition/file_patterns.py                    20     20     0%
file_system_analyzer_db_admin/index_efficiency/__init__.py                             0      0   100%
file_system_analyzer_db_admin/index_efficiency/index_analyzer.py                     272     37    86%
file_system_analyzer_db_admin/interfaces/__init__.py                                   0      0   100%
file_system_analyzer_db_admin/interfaces/api.py                                      198     41    79%
file_system_analyzer_db_admin/interfaces/export.py                                     2      0   100%
file_system_analyzer_db_admin/interfaces/filesystem.py                               108     88    19%
file_system_analyzer_db_admin/main.py                                                104    104     0%
file_system_analyzer_db_admin/tablespace_fragmentation/__init__.py                     0      0   100%
file_system_analyzer_db_admin/tablespace_fragmentation/fragmentation_analyzer.py     237     17    93%
file_system_analyzer_db_admin/transaction_log_analysis/__init__.py                     0      0   100%
file_system_analyzer_db_admin/transaction_log_analysis/log_analyzer.py               251     27    89%
file_system_analyzer_db_admin/utils/__init__.py                                        0      0   100%
file_system_analyzer_db_admin/utils/file_utils.py                                     35      1    97%
file_system_analyzer_db_admin/utils/types.py                                          63      0   100%
------------------------------------------------------------------------------------------------------
TOTAL                                                                               1716    385    78%
======================= 107 passed, 32 warnings in 3.26s =======================
